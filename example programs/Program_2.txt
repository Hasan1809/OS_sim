semWait userInput
assign a input
assign x input
semSignal userInput
semWait file
writeFile a x
print a
print x
semSignal file